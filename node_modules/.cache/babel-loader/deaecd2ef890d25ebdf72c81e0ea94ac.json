{"ast":null,"code":"import _toConsumableArray from\"/home/suyash/calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/suyash/calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/suyash/calendar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{SET_DATE_REMINDER}from'../actions/dates';function filterDateReminders(dates,reminderIdToExclude){return Object.values(dates).reduce(function(filtered,existing){return _objectSpread(_objectSpread({},filtered),{},_defineProperty({},existing.id,_objectSpread(_objectSpread({},existing),{},{reminders:existing.reminders.filter(function(reminderId){return reminderId!==reminderIdToExclude;})})));},{});}export default function dates(){var _state$action$payload;var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_DATE_REMINDER:var entry=(_state$action$payload=state[action.payload.date])!==null&&_state$action$payload!==void 0?_state$action$payload:{id:action.payload.date,reminders:[]};return _objectSpread(_objectSpread({},filterDateReminders(state,action.payload.reminderId)),{},_defineProperty({},entry.id,_objectSpread(_objectSpread({},entry),{},{reminders:Array.from(new Set([].concat(_toConsumableArray(entry.reminders),[action.payload.reminderId])))})));default:return state;}}","map":{"version":3,"sources":["/home/suyash/calendar/src/reducers/dates.js"],"names":["SET_DATE_REMINDER","filterDateReminders","dates","reminderIdToExclude","Object","values","reduce","filtered","existing","id","reminders","filter","reminderId","state","action","type","entry","payload","date","Array","from","Set"],"mappings":"6aAAA,OAASA,iBAAT,KAAkC,kBAAlC,CAEA,QAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAoCC,mBAApC,CAAyD,CACvD,MAAOC,CAAAA,MAAM,CAACC,MAAP,CAAcH,KAAd,EAAqBI,MAArB,CAA4B,SAACC,QAAD,CAAWC,QAAX,CAAwB,CACzD,sCACKD,QADL,wBAEGC,QAAQ,CAACC,EAFZ,gCAGOD,QAHP,MAIIE,SAAS,CAAEF,QAAQ,CAACE,SAAT,CAAmBC,MAAnB,CACT,SAACC,UAAD,QAAgBA,CAAAA,UAAU,GAAKT,mBAA/B,EADS,CAJf,KASD,CAVM,CAUJ,EAVI,CAAP,CAWD,CAED,cAAe,SAASD,CAAAA,KAAT,EAAmC,8BAApBW,CAAAA,KAAoB,2DAAZ,EAAY,IAARC,CAAAA,MAAQ,2CAChD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKf,CAAAA,iBAAL,CACE,GAAMgB,CAAAA,KAAK,wBAAGH,KAAK,CAACC,MAAM,CAACG,OAAP,CAAeC,IAAhB,CAAR,+DAAiC,CAC1CT,EAAE,CAAEK,MAAM,CAACG,OAAP,CAAeC,IADuB,CAE1CR,SAAS,CAAE,EAF+B,CAA5C,CAKA,sCACKT,mBAAmB,CAACY,KAAD,CAAQC,MAAM,CAACG,OAAP,CAAeL,UAAvB,CADxB,wBAEGI,KAAK,CAACP,EAFT,gCAGOO,KAHP,MAIIN,SAAS,CAAES,KAAK,CAACC,IAAN,CACT,GAAIC,CAAAA,GAAJ,8BAAYL,KAAK,CAACN,SAAlB,GAA6BI,MAAM,CAACG,OAAP,CAAeL,UAA5C,GADS,CAJf,KAUF,QACE,MAAOC,CAAAA,KAAP,CAlBJ,CAoBD","sourcesContent":["import { SET_DATE_REMINDER } from '../actions/dates';\n\nfunction filterDateReminders(dates, reminderIdToExclude) {\n  return Object.values(dates).reduce((filtered, existing) => {\n    return {\n      ...filtered,\n      [existing.id]: {\n        ...existing,\n        reminders: existing.reminders.filter(\n          (reminderId) => reminderId !== reminderIdToExclude\n        ),\n      },\n    };\n  }, {});\n}\n\nexport default function dates(state = {}, action) {\n  switch (action.type) {\n    case SET_DATE_REMINDER:\n      const entry = state[action.payload.date] ?? {\n        id: action.payload.date,\n        reminders: [],\n      };\n\n      return {\n        ...filterDateReminders(state, action.payload.reminderId),\n        [entry.id]: {\n          ...entry,\n          reminders: Array.from(\n            new Set([...entry.reminders, action.payload.reminderId])\n          ),\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}